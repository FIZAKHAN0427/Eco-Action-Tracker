{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\FIZA\\\\OneDrive\\\\Desktop\\\\React ISE 2\\\\eco-action-tracker\\\\src\\\\components\\\\ImpactSummary.js\",\n  _s = $RefreshSig$();\nimport React, { useRef } from 'react';\nimport html2canvas from 'html2canvas';\nimport Action from './Action';\nimport './ImpactSummary.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction ImpactSummary({\n  trackedActions,\n  totalCarbonReduction,\n  onClearActions,\n  onRemoveAction,\n  onSubtractAction\n}) {\n  _s();\n  const treesSaved = Math.floor(totalCarbonReduction / 10);\n  const certificateRef = useRef();\n  const getImpactMessageStyle = () => {\n    if (totalCarbonReduction < 0.5) return {\n      color: 'red'\n    };\n    if (totalCarbonReduction < 1) return {\n      color: 'orange'\n    };\n    return {\n      color: 'green'\n    };\n  };\n  const generateCertificate = () => {\n    const certificateElement = certificateRef.current;\n    if (!certificateElement) {\n      alert('Certificate element not found.');\n      return;\n    }\n    html2canvas(certificateElement, {\n      scale: 2\n    }).then(canvas => {\n      canvas.toBlob(blob => {\n        if (blob) {\n          const link = document.createElement('a');\n          link.download = 'EcoAction_Certificate.png';\n          link.href = URL.createObjectURL(blob);\n          link.click();\n          URL.revokeObjectURL(link.href); // Clean up URL\n        } else {\n          alert('Failed to generate the certificate image.');\n        }\n      });\n    }).catch(error => {\n      console.error('Error generating certificate:', error);\n      alert('An error occurred while generating the certificate.');\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card impact-summary\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Your Impact\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onClearActions,\n      className: \"clear-btn\",\n      children: \"\\u267B\\uFE0F Clear All\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), trackedActions.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No actions tracked yet. Start adding eco-friendly actions!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [trackedActions.map(action => /*#__PURE__*/_jsxDEV(Action, {\n        name: action.name,\n        count: action.count,\n        carbonReduction: action.carbonReduction,\n        onRemove: () => onRemoveAction(action.name),\n        onSubtract: () => onSubtractAction(action.name)\n      }, action.name, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"total\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Total CO\\u2082 Saved\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: getImpactMessageStyle(),\n          children: [totalCarbonReduction.toFixed(1), \" kg\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"tree-message\",\n          children: [\"You've saved the equivalent of \", treesSaved, \" trees planted!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), treesSaved >= 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: generateCertificate,\n          className: \"certificate-btn\",\n          children: \"\\uD83C\\uDF89 Download Certificate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: certificateRef,\n      className: \"certificate\",\n      style: {\n        display: 'none',\n        width: '600px',\n        height: '400px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Eco Action Certificate\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Congratulations on your eco-friendly efforts!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"You have saved the equivalent of \", treesSaved, \" tree(s) planted!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Keep up the great work in helping the planet!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Presented on \", new Date().toLocaleDateString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_s(ImpactSummary, \"DFrG+7uL79TDzMa6WsQY7eIxKcU=\");\n_c = ImpactSummary;\nexport default ImpactSummary;\nvar _c;\n$RefreshReg$(_c, \"ImpactSummary\");","map":{"version":3,"names":["React","useRef","html2canvas","Action","jsxDEV","_jsxDEV","Fragment","_Fragment","ImpactSummary","trackedActions","totalCarbonReduction","onClearActions","onRemoveAction","onSubtractAction","_s","treesSaved","Math","floor","certificateRef","getImpactMessageStyle","color","generateCertificate","certificateElement","current","alert","scale","then","canvas","toBlob","blob","link","document","createElement","download","href","URL","createObjectURL","click","revokeObjectURL","catch","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","length","map","action","name","count","carbonReduction","onRemove","onSubtract","style","toFixed","ref","display","width","height","Date","toLocaleDateString","_c","$RefreshReg$"],"sources":["C:/Users/FIZA/OneDrive/Desktop/React ISE 2/eco-action-tracker/src/components/ImpactSummary.js"],"sourcesContent":["import React, { useRef } from 'react';\r\nimport html2canvas from 'html2canvas';\r\nimport Action from './Action';\r\nimport './ImpactSummary.css';\r\n\r\nfunction ImpactSummary({ trackedActions, totalCarbonReduction, onClearActions, onRemoveAction, onSubtractAction }) {\r\n  const treesSaved = Math.floor(totalCarbonReduction / 10);\r\n  const certificateRef = useRef();\r\n\r\n  const getImpactMessageStyle = () => {\r\n    if (totalCarbonReduction < 0.5) return { color: 'red' };\r\n    if (totalCarbonReduction < 1) return { color: 'orange' };\r\n    return { color: 'green' };\r\n  };\r\n\r\n  const generateCertificate = () => {\r\n    const certificateElement = certificateRef.current;\r\n    if (!certificateElement) {\r\n      alert('Certificate element not found.');\r\n      return;\r\n    }\r\n\r\n    html2canvas(certificateElement, { scale: 2 })\r\n      .then((canvas) => {\r\n        canvas.toBlob((blob) => {\r\n          if (blob) {\r\n            const link = document.createElement('a');\r\n            link.download = 'EcoAction_Certificate.png';\r\n            link.href = URL.createObjectURL(blob);\r\n            link.click();\r\n            URL.revokeObjectURL(link.href);  // Clean up URL\r\n          } else {\r\n            alert('Failed to generate the certificate image.');\r\n          }\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error generating certificate:', error);\r\n        alert('An error occurred while generating the certificate.');\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"card impact-summary\">\r\n      <h3>Your Impact</h3>\r\n      <button onClick={onClearActions} className=\"clear-btn\">‚ôªÔ∏è Clear All</button>\r\n      {trackedActions.length === 0 ? (\r\n        <p>No actions tracked yet. Start adding eco-friendly actions!</p>\r\n      ) : (\r\n        <>\r\n          {trackedActions.map((action) => (\r\n            <Action\r\n              key={action.name}\r\n              name={action.name}\r\n              count={action.count}\r\n              carbonReduction={action.carbonReduction}\r\n              onRemove={() => onRemoveAction(action.name)}\r\n              onSubtract={() => onSubtractAction(action.name)}\r\n            />\r\n          ))}\r\n          <div className=\"total\">\r\n            <strong>Total CO‚ÇÇ Saved</strong>\r\n            <p style={getImpactMessageStyle()}>\r\n              {totalCarbonReduction.toFixed(1)} kg\r\n            </p>\r\n            <p className=\"tree-message\">\r\n              You've saved the equivalent of {treesSaved} trees planted!\r\n            </p>\r\n            {treesSaved >= 1 && (\r\n              <button onClick={generateCertificate} className=\"certificate-btn\">\r\n                üéâ Download Certificate\r\n              </button>\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      {/* Hidden certificate element for rendering */}\r\n      <div ref={certificateRef} className=\"certificate\" style={{ display: 'none', width: '600px', height: '400px' }}>\r\n        <h2>Eco Action Certificate</h2>\r\n        <p>Congratulations on your eco-friendly efforts!</p>\r\n        <p>You have saved the equivalent of {treesSaved} tree(s) planted!</p>\r\n        <p>Keep up the great work in helping the planet!</p>\r\n        <p>Presented on {new Date().toLocaleDateString()}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImpactSummary;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}